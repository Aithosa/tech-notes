# Git 提交规范

在提交代码时，好的提交规范可以让代码记录清晰，方便团队协作和后续维护。下面是 **常见的提交前缀格式及用途** 的简要说明。
这些通过一些大型项目或团队常用规范总结而成（类似于 Angular 提交格式规范），可以帮助提升提交记录的可读性和规范性。

## 常见提交前缀格式

| 前缀          | 说明                                                                  |
| ------------- | --------------------------------------------------------------------- |
| **feat:**     | 新增功能（Features），任何实现了新功能或新模块的提交使用这个前缀。    |
| **fix:**      | 修复 Bug，解决代码中的问题或 Bug 使用这个前缀。                       |
| **docs:**     | 文档更新，只更改文档内容相关的提交使用此前缀（如 README、注释等）。   |
| **style:**    | 代码样式调整（不影响功能逻辑），通常用于格式、缩进、空格等修改。      |
| **refactor:** | 代码重构，指对代码进行优化、调整但不改变现有功能行为的提交。          |
| **test:**     | 添加或修改测试用例，测试代码相关的改动，例如单元测试或集成测试。      |
| **perf:**     | 提升性能的代码改动，例如优化算法、减少内存消耗等性能相关优化提交。    |
| **build:**    | 构建过程或工具相关改动，比如修改项目依赖、构建脚本、模块配置等。      |
| **ci:**       | 持续集成工具配置提交，比如修改 CI/CD 相关配置的代码、脚本等。         |
| **chore:**    | 杂项，不涉及代码逻辑变动的提交，比如修改配置文件、构建 / 工具升级等。 |
| **revert:**   | 回滚某次提交，用于撤销特定的提交记录，通常伴随之前的 commit 信息。    |
| **deps:**     | 依赖管理的更改，例如升级项目依赖或更新某些依赖项的版本。              |

## 每个前缀的适用场景及示例

### 1. `feat:` 新增功能

用于提交实现新功能、新模块代码。
示例：

- `feat: 添加用户注册功能`
- `feat: 实现限流模块的 Redis 支持`

### 2. **`fix:` 修复 Bug**

用于提交修复代码逻辑错误、运行时错误等问题。
示例：

- `fix: 修复登录失败时未正确返回 HTTP 状态码问题`
- `fix: 解决 Redis 连接泄漏问题`

### 3. **`docs:` 文档更新**

只针对文档的提交，比如编辑 README、注释或开发文档等。
示例：

- `docs: 更新 README，添加运行环境要求`
- `docs: 为核心模块添加 JavaDoc 注释`

### 4. **`style:` 代码格式调整**

对于代码格式问题的调整，比如缩进、空行、代码顺序等。
示例：

- `style: 调整文件缩进为 4 个空格`
- `style: 自定义代码检查规则，优化 import 顺序`

### 5. **`refactor:` 代码重构**

用于优化或重构代码结构，而不改变功能行为，只是为了提高代码可读性、可维护性。
示例：

- `refactor: 提取公共方法以减少重复代码`
- `refactor: 重构限流核心模块，优化类的职责拆分`

### 6. **`test:` 添加或修改测试**

针对单元测试、集成测试相关的提交。
示例：

- `test: 添加用户注册模块的单元测试`
- `test: 修改限流模块的集成测试逻辑`

### 7. **`perf:` 性能优化**

用于改进性能的提交，比如减少内存使用、优化 CPU 时间开销等。
示例：

- `perf: 优化数据库查询，避免非必要的全表扫描`
- `perf: 使用缓存结果减少 Redis 查询次数`

### 8. **`build:` 构建系统相关改动**

涉及构建过程或工具链的提交，比如修改版本号、打包脚本等。
示例：

- `build: 添加 npm 打包命令`
- `build: 将 Maven 构建插件升级到最新版`

### 9. **`ci:` 持续集成配置**

用于修改 CI/CD 配置或脚本等内容。
示例：

- `ci: 添加 GitHub Actions 到项目`
- `ci: 修复 Jenkinsfile 打包流程中的路径错误`

### 10. **`chore:` 杂项**

其他无法归类的改动，通常包括开发工具、配置文件修改等。
示例：

- `chore: 更新 .gitignore 文件`
- `chore: 升级项目依赖到稳定版本`

### 11. **`revert:` 回滚提交**

用于回退之前的某次提交。需要在描述中标明撤销的 commit 信息。
示例：

- `revert: 回滚提交 abc123，修复 Redis 问题`

### 12. **`deps:` 依赖相关**

对于增加、删除或升级依赖的提交。
示例：

- `deps: 升级 Spring Boot 到 2.6.0`
- `deps: 添加 Redis 客户端依赖`

## **适用范围的扩展**

这些提交规范在不同项目中可能会进一步扩展。例如：

- 前面增加 **模块名**：

  - `feat(auth): 添加 OAuth2 登录支持`
  - `fix(cache): 修复 Redis 键过期时间配置不正确问题`

- 标注上下文或者小范围影响：
  - `refactor(controller): 重构用户管理接口代码`
  - `test(rate-limiter): 添加 distributed 模块的单元测试`

## **总结**

以上提交信息的前缀格式是社区中流行的做法，能够清晰地表达提交的意图，提升团队协作效率。在实际项目中，应尽量根据团队的实际情况与需求选择特定的提交规范。
如果你有需要实现提交模板或进行工具自动化，比如设置 `commitlint` 强制校验提交格式，可以进一步沟通。
